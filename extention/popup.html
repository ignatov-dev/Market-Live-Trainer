<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Market Snapshot</title>
    <link rel="stylesheet" href="popup.css" />
  </head>
  <body>
    <main class="popup">
      <header class="popup-head">
        <h1>Market Snapshot</h1>
        <p id="updatedAt" class="popup-head-updated">Updated: -</p>
      </header>

      <p id="status" class="status">Loading...</p>


      <div id="backendAuthNotice" class="status notice" hidden>
        Sign in at Market Live Trainer to see live backend data.
      </div>

      <section id="liveSnapshot" class="snapshot" hidden>
        <div id="priceTicker" class="price-ticker"></div>
        <div class="snapshot-grid">
          <div class="snapshot-item">
            <span class="label">Balance</span>
            <strong class="value-inline">
              <span id="liveBalance" class="value-primary">-</span>
              <span id="liveNetPnl" class="value-delta">-</span>
            </strong>
          </div>
          <div class="snapshot-item">
            <span class="label">Available Margin</span>
            <strong id="liveMargin" class="value">-</strong>
          </div>
          <div class="snapshot-item">
            <span class="label">Open PnL</span>
            <strong id="liveOpenPnl" class="value">-</strong>
          </div>
          <div class="snapshot-item">
            <span class="label">Session Return</span>
            <strong id="liveReturn" class="value">-</strong>
          </div>
        </div>
      </section>


      <section id="backendPositionsSection" class="positions" hidden>
        <p class="positions-title">Open Positions (Live)</p>
        <div id="backendPositionsList" class="positions-list"></div>
      </section>

    </main>

    <script src="popup.js"></script>
  </body>
</html>
